---
title: 微服务实践
slug: microservice
template: page
---

Build Microservice on Kubernetes

# 第一部分 快速开始

## 1 一个 HTTP 服务

### 1.1 Go 语言环境
#### 1.1.1 Go 环境安装
#### 1.1.2 Go 版本选择
#### 1.1.3 Go Module

### 1.2 样例实现
#### 1.2.1 代码实现
#### 1.2.2 本地运行

### 1.3 容器化运行
#### 1.3.1 Docker 环境安装
#### 1.3.2 Docker 构建镜像
#### 1.3.3 Docker 运行容器

## 2 一个 GRPC 微服务

### 2.1 GRPC 框架
#### 2.1.1 GRPC 框架是什么
#### 2.1.2 ProtoBuffer协议
#### 2.1.3 GRPC 环境安装
#### 2.1.4 protoc 工具安装

### 2.2 微服务实现
#### 2.2.1 接口定义
#### 2.2.2 生成框架代码
#### 2.2.3 微服务接口实现
#### 2.2.4 客户端调用

## 3 整合 HTTP + GRPC 服务

### 3.1 本地实现
#### 3.1.1 域名访问

### 3.2 容器实现
#### 3.2.1 服务发现
#### 3.2.2 常规方案

### 3.3 Kubernetes实现
#### 3.3.1 Kubernetes 是什么
#### 3.3.2 Minikube & Kubectl 安装
#### 3.3.3 部署 HTTP + GRPC 服务
#### 3.3.4 简单的负载均衡

# 第二部分 核心概念

## 4 微服务 

### 4.1 从单体到微服务
### 4.2 微服务带来挑战
#### 4.2.1 服务发现
#### 4.2.2 分布式系统 CAP
#### 4.2.3 调试困难
#### 4.2.4 重复问题 DRY
### 4.3 微服务框架
### 4.4 小结

## 5. 基础程序框架

### 5.1 框架是什么
### 5.2 基础工具包
#### 5.2.1 异常处理
#### 5.2.2 错误码
#### 5.2.3 日志规范
#### 5.2.4 配置管理
#### 5.2.5 协程控制
#### 5.2.6 其它=
### 5.3 程序脚手架
#### 5.3.1 命令行规范
#### 5.3.2 脚手架实现
### 5.4 自动化生成
#### 5.4.1 自动化生成的秘密
#### 5.4.2 自动化生成工具
### 5.5 小结

## 6. 深入理解容器

### 6.1 容器是什么
#### 6.1.1 容器技术 vs 虚拟技术
#### 6.1.2 容器隔离
### 6.2 容器镜像
#### 6.2.1 构建镜像
#### 6.2.2 镜像的组成
#### 6.2.3 镜像的存储
#### 6.2.4 最小化镜像
#### 6.2.5 镜像的加固
#### 6.2.6 镜像的审查
### 6.3 数据持久化
### 6.4 容器间通信
#### 6.4.1 共享存储
#### 6.4.2 共享网络
#### 6.4.3 其它
### 6.5 小结

## 7. 微服务框架
### 7.1 同步消息通信
#### 7.1.1 基于GRPC框架的实现
#### 7.1.2 基于UDP框架的实现
### 7.2 异步消息通信
#### 7.2.1 消息队列项目比较
#### 7.2.2 基于AMQP协议的队列实现
### 7.3 服务网关
#### 7.3.1 HTTP框架的实现
### 7.4 微服务状态监控
#### 7.4.1 日志 Log
#### 7.4.2 跟踪 Trace
#### 7.4.1 监控 Metrics
### 7.5 小结

## 8. 微服务数据存储
### 8.1 微服务如何存储数据
#### 8.1.1 集中存储 vs 独立存储
#### 8.1.2 分布式存储带来的问题
### 8.2 存储服务
#### 8.2.1 关系型数据库
#### 8.2.2 NOSQL数据库
#### 8.2.3 其它
### 8.3 ORM工具
### 8.4 小结

# 第三部分 部署与发布

## 9. 深入Kubernetes
### 9.1 关键概念
#### 9.1.1 Pod vs Container
#### 9.1.2 Service 服务注册与发现
#### 9.1.3 Deployment 服务发布与回滚
#### 9.1.4 Ingress 外部入口
### 9.2 集群管理
#### 9.2.1 命名空间
#### 9.2.2 RABC权限
### 9.3 多集群互通
### 9.4 小结

## 10. 持续集成CI

### 10.1 项目结构
#### 10.1.1 合理规划项目结构
#### 10.1.2 微服务项目脚手架
### 10.2 集成服务安装与配置
### 10.3 代码审查
#### 10.3.1 静态代码审查
#### 10.3.2 代码测试覆盖率
### 10.4 构建镜像
### 10.5 测试发布
### 10.6 小结

## 11. 持续发布CD

### 11.1 发布流程
### 11.2 请求发布
### 11.3 审核发布
### 11.4 故障处理
#### 11.4.1 版本回滚
#### 11.4.2 故障排查
### 11.5 小结

# 第四部分 高级主题

## 12. 高级主题

### 12.1 微服务安全控制
#### 12.1.1 数据存储安全
#### 12.1.2 网络通信安全
### 12.2 微服务性能
#### 12.2.1 压力测试
#### 12.2.2 性能调优
### 12.3 网格服务
#### 12.3.1 什么是网格服务
#### 12.3.2 网格服务简单实现
### 12.4 小结
    
